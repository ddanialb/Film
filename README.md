# ููู ุจูุง - Film Bina

ูพูุชูุฑู ุฌุณุชุฌู ู ูพุฎุด ุขููุงู ููู ู ุณุฑุงู ูุงุฑุณ ู ุฎุงุฑุฌ

## ูฺฺฏโูุง

- ๐ฌ ุฌุณุชุฌู ููู ู ุณุฑุงู ูุงุฑุณ (FarsiLand)
- ๐ ุฌุณุชุฌู ููู ู ุณุฑุงู ุฎุงุฑุฌ (IMDB + StreamWide)
- โถ๏ธ ูพุฎุด ุขููุงู ูุณุชูู
- ๐ฅ ุฏุงูููุฏ ุจุง ฺฉูุชโูุง ูุฎุชูู
- ๐๏ธ ุฏุณุชูโุจูุฏ ุฏูุจููุ ุฒุฑููุณ ุฌุฏุงุ ุฒุฑููุณ ฺุณุจุฏู
- ๐ฑ ุฑุงุจุท ฺฉุงุฑุจุฑ ุฑุณูพุงูุณู

## ูุตุจ

### 1. ูุตุจ ูุงุจุณุชฺฏโูุง

```bash
npm install
```

### 2. ุชูุธูุงุช ูุญุท

ูุงู `.env.example` ุฑุง ฺฉูพ ฺฉูุฏ ุจู `.env`:

```bash
cp .env.example .env
```

ุณูพุณ ุงุทูุงุนุงุช ุฎูุฏ ุฑุง ุฏุฑ `.env` ูุงุฑุฏ ฺฉูุฏ:

```env
FARSILAND_USERNAME=your_username
FARSILAND_PASSWORD=your_password
PORT=3000
TELEGRAM_API_ID=your_api_id
TELEGRAM_API_HASH=your_api_hash
TELEGRAM_PHONE=+989123456789
TELEGRAM_2FA_PASSWORD=your_2fa_password
SOCKS_PROXY_HOST=127.0.0.1
SOCKS_PROXY_PORT=10808
```

**ูฺฉุชู:** `TELEGRAM_SESSION` ู `STREAMWIDE_REFRESH_TOKEN` ุงุฎุชุงุฑ ูุณุชูุฏ ู ุฏุฑ ุงููู ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ุณุงุฎุชู ูโุดููุฏ.

### 3. ุณุงุฎุช ูพูุดู data (ุงุฎุชุงุฑ)

```bash
mkdir data
```

ุงู ูพูุดู ุจุฑุง ุฐุฎุฑู ฺฉุด ู ูุงูโูุง ูููุช ุงุณุชูุงุฏู ูโุดูุฏ. ุงฺฏุฑ ุงุฒ ENV ุงุณุชูุงุฏู ฺฉูุฏุ ูุงุฒ ุจู ุงู ูพูุดู ูุณุช.

**ูฺฉุชู:** ุงฺฏุฑ `TELEGRAM_SESSION` ู `STREAMWIDE_REFRESH_TOKEN` ุฑุง ุฏุฑ `.env` ูุฑุงุฑ ุฏูุฏุ ุฏฺฏุฑ ูุงุฒ ุจู ูุงูโูุง `data/` ูุณุช.

### 4. ุงุฌุฑุง

```bash
npm start
```

ุง ุจุฑุง ุชูุณุนู:

```bash
node server.js
```

ุณุฑูุฑ ุฑู `http://localhost:3000` ุงุฌุฑุง ูโุดูุฏ.

## ุฏุฑุงูุช API Credentials

### Telegram API
1. ุจู https://my.telegram.org ุจุฑู
2. ูุงุฑุฏ ุดู ุจุง ุดูุงุฑู ุชูฺฏุฑุงูุช
3. ุจุฑู ุจู "API development tools"
4. ู ุงูพูฺฉุดู ุฌุฏุฏ ุจุณุงุฒ
5. `api_id` ู `api_hash` ุฑู ฺฉูพ ฺฉู

### SOCKS5 Proxy (ุงุฎุชุงุฑ)
ุงฺฏู ุฏุฑ ุงุฑุงู ูุณุชุ ุจุฑุง ุงุชุตุงู ุจู ุชูฺฏุฑุงู ูุงุฒ ุจู ูพุฑูฺฉุณ ุฏุงุฑ:
- V2Ray, Clash ุง ูุฑ VPN ุฏฺฏูโุง ุฑู ุฑูุดู ฺฉู
- ูพูุฑุช SOCKS5 ุฑู ูพุฏุง ฺฉู (ูุนูููุงู 10808)
- ุฏุฑ `.env` ุชูุธู ฺฉู

## ุงุณุชูุฑุงุฑ ุฑู ูุงุณุช

### ุขูุงุฏูโุณุงุฒ

1. ูุงูโูุง ุฒุฑ ุฑุง ุขูพููุฏ **ูฺฉูุฏ**:
   - `.env` (ุงุทูุงุนุงุช ุญุณุงุณ)
   - `data/` (ูุงูโูุง ุณุดู)
   - `node_modules/` (ุจุนุฏุงู ูุตุจ ูโุดู)

2. ุฑู ูุงุณุช:
   ```bash
   npm install
   cp .env.example .env
   nano .env  # ุงุทูุงุนุงุช ุฑู ูุงุฑุฏ ฺฉู
   mkdir data
   npm start
   ```

### ูุงฺฏู ุชูฺฏุฑุงู ุฑู ูุงุณุช

ุงููู ุจุงุฑ ฺฉู ุณุฑูุฑ ุฑู ุงุฌุฑุง ูโฺฉู:

1. ุจุฑู ุจู `/telegram.html`
2. ู ููู ุฌุณุชุฌู ฺฉู
3. ุฑู "Get Download Links" ฺฉูฺฉ ฺฉู
4. ุงฺฏู ูุงุฒ ุจู ูุงฺฏู ุจูุฏุ ุฑู "Login" ฺฉูฺฉ ฺฉู
5. ฺฉุฏ ุชูฺฏุฑุงู ุฑู ูุงุฑุฏ ฺฉู
6. ุณุดู ุฐุฎุฑู ูุดู ู ุฏุฑ ูุงฺฏ ููุงุด ุฏุงุฏู ูุดู
7. **ููู:** ุณุดู ุฑู ฺฉูพ ฺฉู ู ุจู `.env` ุงุถุงูู ฺฉู:
   ```env
   TELEGRAM_SESSION=1AgAOMTQ5LjE1NC4xNjcuOTE...
   ```
8. ุณุฑูุฑ ุฑู ุฑุณุชุงุฑุช ฺฉู: `pm2 restart film-bina`

**ูุฒุช:** ุจุง ุงู ุฑูุด ุฏฺฏุฑ ูุงุฒ ุจู ูฺฏูุฏุงุฑ ูุงู `telegram_session.txt` ูุณุช ู ููู ฺุฒ ุฏุฑ `.env` ูุณุช.

## ุงููุช

โ๏ธ **ููู**: ูุงู `.env` ุฑุง ูุฑฺฏุฒ ุฏุฑ Git ูุฑุงุฑ ูุฏูุฏ!

ูุงู `.env` ุดุงูู ุชูุงู ุงุทูุงุนุงุช ุญุณุงุณ ุงุณุช:
- ุงุทูุงุนุงุช ูุงฺฏู FarsiLand
- API credentials ุชูฺฏุฑุงู
- ุณุดู ุชูฺฏุฑุงู (ุงฺฏุฑ ุงุณุชูุงุฏู ฺฉูุฏ)
- ุชูฺฉู StreamWide (ุงฺฏุฑ ุงุณุชูุงุฏู ฺฉูุฏ)

ุงู ูุงู ุฏุฑ `.gitignore` ุงุถุงูู ุดุฏู ุงุณุช.

**ุชูุตู:** ุจุฑุง ุงููุช ุจุดุชุฑุ `TELEGRAM_SESSION` ู `STREAMWIDE_REFRESH_TOKEN` ุฑุง ุฏุฑ `.env` ูุฑุงุฑ ุฏูุฏ ุจู ุฌุง ุงุณุชูุงุฏู ุงุฒ ูุงูโูุง `data/`.

## ุณุงุฎุชุงุฑ ูพุฑูฺู

```
search-app/
โโโ data/                    # ูุงูโูุง ุญุณุงุณ (git ignore)
โ   โโโ telegram_session.txt
โ   โโโ streamwide_refresh.txt
โ   โโโ playlist_cache.json
โโโ public/                  # ูุงูโูุง ุงุณุชุงุชฺฉ
โ   โโโ css/
โ   โโโ fonts/
โ   โโโ js/
โ   โโโ index.html          # ุตูุญู ุงุตู (ููู ูุงุฑุณ)
โ   โโโ telegram.html       # ููู ุฎุงุฑุฌ
โ   โโโ player.html         # ูพุฎุด ุขููุงู
โ   โโโ details.html        # ุฌุฒุฆุงุช ููู
โโโ routes/                  # API Routes
โ   โโโ search.js           # FarsiLand API
โ   โโโ telegram.js         # Telegram + StreamWide API
โ   โโโ imdb.js             # IMDB Search
โโโ server.js               # ุณุฑูุฑ ุงุตู
โโโ .env                    # ุชูุธูุงุช ูุญุท (git ignore)
โโโ .env.example            # ููููู ุชูุธูุงุช
โโโ package.json
```

## API Endpoints

### FarsiLand (ููู ูุงุฑุณ)
- `GET /api/search?q=query` - ุฌุณุชุฌู
- `GET /api/details/:id` - ุฌุฒุฆุงุช ููู
- `GET /api/get-download?fileId=xxx` - ููฺฉ ุฏุงูููุฏ

### Telegram/StreamWide (ููู ุฎุงุฑุฌ)
- `GET /imdb/search?q=query` - ุฌุณุชุฌู ุฏุฑ IMDB
- `GET /telegram/get-links?imdbId=xxx&title=xxx` - ุฏุฑุงูุช ููฺฉโูุง
- `GET /telegram/fetch-videos?playlistId=xxx` - ุฏุฑุงูุช ูุฏููุง
- `POST /telegram/login` - ูุงฺฏู ุชูฺฏุฑุงู
- `GET /telegram/status` - ูุถุนุช ุงุชุตุงู

### Player
- `GET /stream?url=xxx` - ุงุณุชุฑู ูุฏู

## ุชูุณุนู

ุจุฑุง ุชูุณุนู ูพุฑูฺู:

```bash
# ูุตุจ ูุงุจุณุชฺฏโูุง
npm install

# ุงุฌุฑุง ุฏุฑ ุญุงูุช ุชูุณุนู
node server.js

# ุง ุจุง nodemon ุจุฑุง auto-reload
npm install -g nodemon
nodemon server.js
```

## ูุดฺฉูุงุช ุฑุงุฌ

### ุฎุทุง ุงุชุตุงู ุชูฺฏุฑุงู
- ูพุฑูฺฉุณ ุฑู ฺฺฉ ฺฉู
- ูุทูุฆู ุดู VPN ุฑูุดูู
- API credentials ุฑู ุฏูุจุงุฑู ฺฺฉ ฺฉู

### ุฎุทุง StreamWide
- ุชูฺฉู ูููุถ ุดุฏู - ุฏูุจุงุฑู ูุงฺฏู ฺฉู
- ฺฉุด ุฑู ูพุงฺฉ ฺฉู: `rm data/streamwide_refresh.txt`

### ููู ูพุฏุง ููุดู
- IMDB ID ุฑู ฺฺฉ ฺฉู
- ุนููุงู ุงูฺฏูุณ ุฑู ุงูุชุญุงู ฺฉู
- ููฺฉูู ููู ุฏุฑ StreamWide ูุจุงุดู

## ูุงุณูุณ

MIT

## ุชูุณุนูโุฏููุฏู

๐ ุขูุง ุฏูู
